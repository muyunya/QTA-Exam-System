# Python 刷题软件开发计划

## 📋 项目概述

**项目名称**：QTA (Question Training Application) - Python刷题训练软件

**目标用户**：编程学习者、考试备考人员

**核心功能**：支持多种题型的刷题练习，可外部导入题目，具备代码高亮展示功能

---

## 🎯 功能需求清单（已确认）

### 1. 题目类型支持

| 题型         | 说明                    | 优先级 |
| ------------ | ----------------------- | ------ |
| ✅ 单选题    | 单选，支持ABCD选项      | 高     |
| ✅ 多选题    | 多选，支持多个正确答案  | 高     |
| ✅ 填空题    | 支持单空/多空填写       | 高     |
| ✅ 编程题    | 代码编写+实时运行验证   | 高     |
| ✅ 判断题    | 对/错判断               | 中     |
| ✅ 简答题    | 文字作答+参考答案对比   | 中     |

### 2. 界面设计

- ✅ **美观现代风格**
- ✅ **玻璃拟态设计（Glassmorphism）**
- ✅ **夜间/日间模式切换**
- ✅ **快捷键支持**

### 3. 核心功能模块

#### 3.1 题库管理

- [ ] 从JSON文件导入题目
- [ ] 题目分类管理（按科目/难度/标签）
- [ ] 支持题目收藏和错题本

#### 3.2 刷题模式

- [ ] 顺序练习模式
- [ ] 随机练习模式
- [ ] 错题重练模式
- [ ] 收藏题目练习

#### 3.3 代码展示块

- [ ] 代码语法高亮显示
- [ ] 支持多种编程语言（Python、C、Java等）
- [ ] 代码复制功能
- [ ] 编程题代码实时运行验证（Python）

#### 3.4 学习统计

- [ ] 答题正确率统计
- [ ] 学习时长统计
- [ ] 错题分析报告

---

## 🏗️ 技术方案

### 1. 技术栈选择

| 组件     | 技术选型           | 说明                                     |
| -------- | ------------------ | ---------------------------------------- |
| 界面框架 | **ttkbootstrap**   | 基于Tkinter的现代化UI库，支持多种主题    |
| 数据存储 | **JSON文件**       | 简单易懂，方便导入导出                   |
| 代码高亮 | **Pygments**       | 专业代码语法高亮                         |
| 代码编辑 | **tkinter.Text**   | 内置组件，可自定义                       |

### 2. 项目结构设计

```
QTA/
├── main.py                 # 主程序入口
├── requirements.txt        # 依赖包列表
├── README.md              # 项目说明文档
│
├── config/                # 配置文件目录
│   └── settings.json      # 应用配置
│
├── data/                  # 数据目录
│   ├── questions/         # 题库文件存放
│   │   └── sample.json    # 示例题库
│   ├── user_progress.json # 用户进度记录
│   └── wrong_questions.json # 错题本
│
├── src/                   # 源代码目录
│   ├── __init__.py
│   ├── app.py             # 应用主类
│   ├── models/            # 数据模型
│   │   ├── __init__.py
│   │   ├── question.py    # 题目模型
│   │   └── user_data.py   # 用户数据模型
│   │
│   ├── views/             # 界面视图
│   │   ├── __init__.py
│   │   ├── main_window.py # 主窗口
│   │   ├── question_view.py # 题目展示视图
│   │   ├── code_block.py  # 代码展示组件
│   │   └── stats_view.py  # 统计页面
│   │
│   ├── controllers/       # 控制器
│   │   ├── __init__.py
│   │   ├── quiz_controller.py # 刷题控制器
│   │   └── data_controller.py # 数据控制器
│   │
│   └── utils/             # 工具函数
│       ├── __init__.py
│       ├── file_handler.py # 文件处理
│       └── code_runner.py  # 代码运行器
│
└── docs/                  # 文档目录
    └── 题库格式说明.md    # 题库JSON格式说明
```

### 3. 题库JSON格式设计

```json
{
    "meta": {
        "name": "Python基础题库",
        "version": "1.0",
        "author": "作者名",
        "description": "Python基础知识练习题"
    },
    "questions": [
        {
            "id": 1,
            "type": "single_choice",
            "difficulty": "easy",
            "tags": ["基础", "变量"],
            "question": "Python中用于定义变量的正确方式是？",
            "options": ["A. int x = 10", "B. x = 10", "C. var x = 10", "D. let x = 10"],
            "answer": "B",
            "explanation": "Python是动态类型语言，直接使用 变量名 = 值 即可定义变量"
        },
        {
            "id": 2,
            "type": "multi_choice",
            "difficulty": "medium",
            "tags": ["数据类型"],
            "question": "以下哪些是Python的内置数据类型？",
            "options": ["A. list", "B. dict", "C. array", "D. tuple"],
            "answer": ["A", "B", "D"],
            "explanation": "list、dict、tuple是Python内置类型，array需要导入模块"
        },
        {
            "id": 3,
            "type": "fill_blank",
            "difficulty": "medium",
            "tags": ["函数"],
            "question": "定义函数使用的关键字是 ____",
            "answer": ["def"],
            "explanation": "Python使用def关键字定义函数"
        },
        {
            "id": 4,
            "type": "judge",
            "difficulty": "easy",
            "tags": ["基础"],
            "question": "Python是一种编译型语言。",
            "answer": false,
            "explanation": "Python是解释型语言，不是编译型语言"
        },
        {
            "id": 5,
            "type": "short_answer",
            "difficulty": "medium",
            "tags": ["概念"],
            "question": "请简述Python中列表和元组的区别。",
            "answer": "列表是可变的，可以修改元素；元组是不可变的，创建后不能修改。",
            "keywords": ["可变", "不可变", "修改"],
            "explanation": "这是Python基础概念题"
        },
        {
            "id": 6,
            "type": "coding",
            "difficulty": "medium",
            "tags": ["编程", "循环"],
            "question": "编写一个函数，计算1到n的和",
            "code_template": "def sum_to_n(n):\n    # 请在此处编写代码\n    pass",
            "test_cases": [
                {"input": "5", "expected_output": "15"},
                {"input": "10", "expected_output": "55"}
            ],
            "answer_code": "def sum_to_n(n):\n    return sum(range(1, n+1))",
            "explanation": "可以使用循环累加或内置sum函数"
        }
    ]
}
```

---

## 📅 开发阶段计划

### 第一阶段：基础框架搭建（进行中）

1. 创建项目目录结构
2. 实现基础数据模型（Question类）
3. 实现JSON题库导入功能
4. 创建基础GUI窗口框架

### 第二阶段：核心功能实现

1. 实现选择题（单选/多选）展示和答题功能
2. 实现填空题展示和答题功能
3. 实现判断题展示和答题功能
4. 实现简答题展示和答题功能
5. 实现代码高亮展示组件
6. 实现编程题展示和代码运行功能

### 第三阶段：进阶功能开发

1. 实现用户进度保存
2. 实现错题本功能
3. 实现学习统计功能
4. 实现多种练习模式
5. 实现夜间模式切换
6. 实现快捷键支持

### 第四阶段：优化完善

1. 界面美化（玻璃拟态效果）
2. 异常处理完善
3. 使用说明文档编写

---

## 📦 需要安装的依赖包

```bash
pip install pygments ttkbootstrap
```

- **pygments**：代码语法高亮
- **ttkbootstrap**：现代化UI主题库

---

*文档更新时间：2025年12月6日*
